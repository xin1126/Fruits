(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79f5b1ec"],{"009a":function(t,e,o){"use strict";o.r(e);o("b64b");var n=o("7a23"),i=Object(n["withScopeId"])("data-v-4498fb56");Object(n["pushScopeId"])("data-v-4498fb56");var s={class:"content d-flex flex-column justify-content-between"},c=Object(n["createVNode"])("div",{class:"\n          cart-banner\n          position-relative\n          d-flex-center\n          text-white\n          fs-2\n          mb-md-4 mb-3\n        "},[Object(n["createVNode"])("p",{class:"\n            bg-translucent\n            fw-bolder\n            rounded-3 rounded\n            px-lg-5\n            py-lg-3\n            px-4\n            py-2\n          "}," 購物車列表 ")],-1),r={class:"container-lg mb-md-5 mb-4"},a={key:0},l={class:"row"},d={class:"d-flex justify-content-between align-items-end mb-2"},u=Object(n["createVNode"])("i",{class:"bi bi-caret-left-fill"},null,-1),b=Object(n["createTextVNode"])("繼續購物 "),h=Object(n["createTextVNode"])(" 填寫訂購資料"),p=Object(n["createVNode"])("i",{class:"bi bi-caret-right-fill"},null,-1),f={class:"table align-middle mb-0"},m=Object(n["createVNode"])("thead",null,[Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("th",{class:"remove d-md-none"},"刪除"),Object(n["createVNode"])("th",{class:"d-none d-lg-table-cell"},"縮圖"),Object(n["createVNode"])("th",{width:"15%",class:"d-none d-sm-table-cell"},[Object(n["createTextVNode"])(" 品名"),Object(n["createVNode"])("span",{class:"d-md-none d-sm-inline d-none"},"/單位")]),Object(n["createVNode"])("th",{width:"20%",class:"d-none d-md-table-cell"},"單位"),Object(n["createVNode"])("th",{class:"text-center"},[Object(n["createVNode"])("span",{class:"d-sm-none"},"品名/"),Object(n["createTextVNode"])("數量 ")]),Object(n["createVNode"])("th",{width:"10%",class:"d-none d-sm-table-cell"},"單價"),Object(n["createVNode"])("th",{width:"15%",class:"text-end"},"金額"),Object(n["createVNode"])("th",{width:"10%",class:"text-end d-none d-md-table-cell"}," 刪除 ")])],-1),g={class:"d-md-none"},O=Object(n["createVNode"])("i",{class:"bi bi-trash text-gray icon"},null,-1),j={class:"img d-none d-lg-table-cell position-relative"},_={class:"d-none d-sm-table-cell"},y={class:"d-md-none d-sm-inline d-none"},N={class:"d-none d-md-table-cell"},v={class:"d-sm-none mb-1 text-center"},k={class:"input-group update-num w-lg-75 w-sm-65 mx-auto"},w=Object(n["createVNode"])("i",{class:"bi bi-dash-lg"},null,-1),V={class:"form-control text-center"},x=Object(n["createVNode"])("i",{class:"bi bi-plus-lg"},null,-1),C={class:"d-none d-sm-table-cell"},S={class:"text-end"},B={class:"text-end d-none d-md-table-cell"},E=Object(n["createVNode"])("i",{class:"bi bi-trash text-gray icon"},null,-1),A={class:"mt-3"},T={class:"d-flex justify-content-between"},D={class:"\n                  d-flex\n                  align-items-sm-center\n                  flex-sm-row\n                  align-items-end\n                  flex-column\n                "},P={class:"fw-bold"},I=Object(n["createTextVNode"])(" 總價："),$={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},L={class:"modal-dialog modal-dialog-centered"},W={class:"modal-content"},F=Object(n["createVNode"])("div",{class:"modal-header"},[Object(n["createVNode"])("h4",{class:"modal-title fw-bold ms-auto",id:"exampleModalLabel"}," 點選折扣優惠券 "),Object(n["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),M={class:"modal-body pb-0"},R={class:"p-0"},z={class:"coupon-style"},U={class:"text-center fs-4 me-sm-3 mb-1 mb-sm-0"},H={class:"modal-footer"},Y={class:"mt-2"},q={key:0,class:"text-end text-danger fw-bold"},G={key:1},Q={class:"text-center"},J=Object(n["createVNode"])("h2",{class:"fw-bold"},"目前購物車列表為空",-1),X=Object(n["createVNode"])("h3",null,"逛逛新鮮水果",-1),K=Object(n["createVNode"])("hr",{class:"border border-primary border-3"},null,-1);Object(n["popScopeId"])();var Z=i((function(t,e,o,i,Z,tt){var et,ot,nt,it=Object(n["resolveComponent"])("Process"),st=Object(n["resolveComponent"])("ProductsSpecialOffer"),ct=Object(n["resolveComponent"])("Subscription");return Object(n["openBlock"])(),Object(n["createBlock"])("section",s,[Object(n["createVNode"])("div",null,[c,Object(n["createVNode"])("div",r,[null!==(et=Object.keys(t.$store.getters.storageCart))&&void 0!==et&&et.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[Object(n["createVNode"])("div",l,[Object(n["createVNode"])(it,{class:"col mb-3 d-sm-none"})]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary btn-hover",onClick:e[1]||(e[1]=function(e){return t.$router.push("/products")})},[u,b]),Object(n["createVNode"])(it,{class:"d-none d-sm-block"}),Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary btn-hover",onClick:e[2]||(e[2]=function(e){return t.$router.push("/from")})},[h,p])]),Object(n["createVNode"])("table",f,[m,Object(n["createVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(Z.products,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])("tr",{key:t.id},[Object(n["createVNode"])("td",g,[Object(n["createVNode"])("a",{href:"#",class:"fs-4",onClick:Object(n["withModifiers"])((function(e){return tt.deleteOne(t.id)}),["prevent"])},[O],8,["onClick"])]),Object(n["createVNode"])("td",j,[Object(n["createVNode"])("img",{src:t.imgUrl,alt:t.title,class:"img-transparent"},null,8,["src","alt"])]),Object(n["createVNode"])("td",_,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.title)+" ",1),Object(n["createVNode"])("span",y,Object(n["toDisplayString"])(t.unit)+"("+Object(n["toDisplayString"])(t.options.weight)+")",1)]),Object(n["createVNode"])("td",N,Object(n["toDisplayString"])(t.unit)+"("+Object(n["toDisplayString"])(t.options.weight)+") ",1),Object(n["createVNode"])("td",null,[Object(n["createVNode"])("p",v,Object(n["toDisplayString"])(t.title),1),Object(n["createVNode"])("div",k,[Object(n["createVNode"])("button",{type:"button",class:["\n                        input-group-text\n                        bg-light\n                        text-gray\n                        fs-8\n                        border-end-0\n                      ",[1!==t.newNum?["upade-hover"]:"cursor-allowed"]],disabled:1===t.newNum,onClick:function(e){return tt.updateCart(t.id,-1)}},[w],10,["disabled","onClick"]),Object(n["createVNode"])("p",V,Object(n["toDisplayString"])(t.newNum),1),Object(n["createVNode"])("button",{type:"button",class:"\n                        input-group-text\n                        upade-hover\n                        bg-light\n                        text-gray\n                        fs-8\n                      ",onClick:function(e){return tt.updateCart(t.id,1)}},[x],8,["onClick"])])]),Object(n["createVNode"])("td",C,"NT$"+Object(n["toDisplayString"])(t.price),1),Object(n["createVNode"])("td",S," NT$"+Object(n["toDisplayString"])((t.price*t.newNum).toLocaleString()),1),Object(n["createVNode"])("td",B,[Object(n["createVNode"])("a",{href:"#",class:"fs-4",onClick:Object(n["withModifiers"])((function(e){return tt.deleteOne(t.id)}),["prevent"])},[E],8,["onClick"])])])})),128))])]),Object(n["createVNode"])("div",A,[Object(n["createVNode"])("div",T,[Object(n["createVNode"])("div",null,[Object(n["createVNode"])("button",{class:"btn btn-outline-gray btn-sm",type:"button",onClick:e[3]||(e[3]=function(){return tt.deleteAll&&tt.deleteAll.apply(tt,arguments)})}," 刪除全部 ")]),Object(n["createVNode"])("div",D,[Object.keys(t.couponNum).length&&!t.discount.status?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"\n                    input-group-text\n                    btn\n                    bg-primary\n                    text-white\n                    btn-hover\n                    me-sm-2\n                    mb-1\n                  ",id:"basic-addon1","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:e[4]||(e[4]=function(){return tt.couponModal&&tt.couponModal.apply(tt,arguments)})}," 選擇折扣優惠券 ")):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("p",P,[I,Object(n["createVNode"])("span",{class:{"text-decoration-line-through":t.discount.status,"text-gray":t.discount.status}},"NT$"+Object(n["toDisplayString"])(Z.total.toLocaleString()),3)])])]),Object(n["createVNode"])("div",$,[Object(n["createVNode"])("div",L,[Object(n["createVNode"])("div",W,[F,Object(n["createVNode"])("div",M,[Object(n["createVNode"])("div",R,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.couponNum,(function(e,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"\n                          d-flex\n                          align-items-center\n                          justify-content-center\n                          flex-column flex-sm-row\n                          coupon\n                          mb-4\n                        ",key:o},[Object(n["createVNode"])("label",{for:o,class:"d-sm-flex align-items-center cursor-pointer",onClick:function(t){return Z.couponTarget=o}},[Object(n["createVNode"])("div",{for:o,class:["\n                              cursor-hover\n                              position-relative\n                              d-inline-block\n                              me-sm-5\n                              mb-1 mb-sm-0s\n                              px-4\n                              py-4\n                            ",[Z.couponTarget===o?"bg-warning":"bg-danger"]]},[Object(n["createVNode"])("div",z,[Object(n["createVNode"])("span",{class:["border w-auto fs-5 px-3 py-2 fw-bold",[Z.couponTarget===o?"text-danger":"text-warning"]]},Object(n["toDisplayString"])(o)+"折優惠折扣券",3)])],10,["for"]),Object(n["createVNode"])("p",U," x"+Object(n["toDisplayString"])(e),1)],8,["for","onClick"]),Object.keys(t.couponNum).length>1?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:0,type:"radio",name:"coupon",ref:"radio"+o,id:o,class:"cursor-pointer",onClick:function(t){return Z.couponTarget=o}},null,8,["id","onClick"])):Object(n["createCommentVNode"])("",!0)])})),128))])]),Object(n["createVNode"])("div",H,[Object(n["createVNode"])("button",{ref:"tooltip",type:"button",class:["btn btn-primary d-block mx-auto",{"cursor-allowed":!Z.couponTarget}],"data-bs-toggle":"tooltip","data-bs-placement":"bottom","data-bs-dismiss":Z.modal,"data-bs-original-title":[Z.couponTarget?"":"請先選擇折扣優惠券哦"],onClick:e[5]||(e[5]=function(t){return tt.coupon(Z.couponTarget)})}," 確認 ",10,["data-bs-dismiss","data-bs-original-title"])])])])]),Object(n["createVNode"])("div",Y,[t.discount.status?(Object(n["openBlock"])(),Object(n["createBlock"])("p",q,Object(n["toDisplayString"])(t.discount.num)+"折優惠總價：NT$"+Object(n["toDisplayString"])(null===(ot=Math.floor(Z.totalDiscount))||void 0===ot?void 0:ot.toLocaleString()),1)):Object(n["createCommentVNode"])("",!0)])])])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",G,[Object(n["createVNode"])("div",Q,[J,X,Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary btn-sm btn-hover",onClick:e[6]||(e[6]=function(e){return t.$router.push("/products")})}," 商品列表 ")]),K,Object(n["createVNode"])(st)]))])]),null!==(nt=Object.keys(t.$store.getters.storageCart))&&void 0!==nt&&nt.length?(Object(n["openBlock"])(),Object(n["createBlock"])(ct,{key:0})):Object(n["createCommentVNode"])("",!0)])})),tt=o("5530"),et=(o("d81d"),o("a9e3"),o("159b"),o("4fad"),o("07ac"),o("dc9c")),ot=o("b017"),nt=o("c413"),it=o("5502"),st=(o("7c2b"),o("af2e")),ct=o.n(st),rt={data:function(){return{total:"",totalDiscount:"",couponPrice:"",couponTarget:"",tooltip:"",modal:"",products:[]}},components:{ProductsSpecialOffer:et["a"],Subscription:ot["a"],Process:nt["a"]},methods:Object(tt["a"])(Object(tt["a"])({},Object(it["b"])(["getAllProducts","removeCoupon","updateDiscount","deleteCart","deleteAllCart"])),{},{updateCart:function(t,e){this.$store.dispatch("updateCart",{id:t,qty:e}),this.totalPrice(),this.discount.status&&this.calculate(this.discount.num),this.getPrcducts()},totalPrice:function(){if(this.products.length){var t=this.products.map((function(t){return t.price*t.newNum}));this.total=t.reduce((function(t,e){return t+e})),this.discount.status&&this.calculate(this.discount.num)}},calculate:function(t){this.totalDiscount=this.total*Number("0.".concat(t))},coupon:function(t){this.couponTarget&&(this.calculate(t),this.$swal({title:"成功套用".concat(t,"折優惠折扣券"),icon:"success"}),this.removeCoupon(t),this.updateDiscount({status:1,num:t}))},couponModal:function(){this.couponTarget&&(this.$refs["radio".concat(this.couponTarget)].checked=!1),this.couponTarget="",this.tooltip=new ct.a(this.$refs.tooltip)},getPrcducts:function(){var t=this;this.products=[],Object.entries(this.storageCart).forEach((function(e){t.allProducts.forEach((function(o){e[0]===o.id&&t.products.push(Object(tt["a"])(Object(tt["a"])({},o),{},{newNum:e[1]}))}))}))},deleteOne:function(t){this.deleteCart(t),0===Object.values(this.storageCart).length&&this.updateDiscount({status:0}),this.getPrcducts(),this.totalPrice()},deleteAll:function(){this.deleteAllCart(),this.updateDiscount({status:0})}}),computed:Object(tt["a"])({},Object(it["c"])(["couponNum","storageCart","allProducts","discount"])),watch:{couponTarget:function(){this.modal=this.couponTarget?"modal":""},allProducts:function(){this.getPrcducts(),this.totalPrice()}},mounted:function(){this.getAllProducts(),this.getPrcducts()}};o("2301");rt.render=Z,rt.__scopeId="data-v-4498fb56";e["default"]=rt},2301:function(t,e,o){"use strict";o("9ecd")},"26a0":function(t,e,o){"use strict";o("2915")},2915:function(t,e,o){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,o){var n=o("1d80"),i=o("5899"),s="["+i+"]",c=RegExp("^"+s+s+"*"),r=RegExp(s+s+"*$"),a=function(t){return function(e){var o=String(n(e));return 1&t&&(o=o.replace(c,"")),2&t&&(o=o.replace(r,"")),o}};t.exports={start:a(1),end:a(2),trim:a(3)}},7156:function(t,e,o){var n=o("861d"),i=o("d2bb");t.exports=function(t,e,o){var s,c;return i&&"function"==typeof(s=e.constructor)&&s!==o&&n(c=s.prototype)&&c!==o.prototype&&i(t,c),t}},"7c2b":function(t,e,o){
/*!
  * Bootstrap modal.js v5.0.0-beta3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,n){t.exports=n(o("6ee1"),o("6a95"),o("109e"),o("848f"),o("302d"))})(0,(function(t,e,o,n,i){"use strict";function s(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var c=s(t),r=s(e),a=s(o),l=s(n),d=s(i);const u=1e3,b="transitionend",h=t=>null===t||void 0===t?""+t:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),p=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let o=t.getAttribute("href");if(!o||!o.includes("#")&&!o.startsWith("."))return null;o.includes("#")&&!o.startsWith("#")&&(o="#"+o.split("#")[1]),e=o&&"#"!==o?o.trim():null}return e},f=t=>{const e=p(t);return e?document.querySelector(e):null},m=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:o}=window.getComputedStyle(t);const n=Number.parseFloat(e),i=Number.parseFloat(o);return n||i?(e=e.split(",")[0],o=o.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(o))*u):0},g=t=>{t.dispatchEvent(new Event(b))},O=t=>(t[0]||t).nodeType,j=(t,e)=>{let o=!1;const n=5,i=e+n;function s(){o=!0,t.removeEventListener(b,s)}t.addEventListener(b,s),setTimeout(()=>{o||g(t)},i)},_=(t,e,o)=>{Object.keys(o).forEach(n=>{const i=o[n],s=e[n],c=s&&O(s)?"element":h(s);if(!new RegExp(i).test(c))throw new TypeError(t.toUpperCase()+": "+`Option "${n}" provided type "${c}" `+`but expected type "${i}".`)})},y=t=>{if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),o=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==o.display&&"hidden"!==e.visibility}return!1},N=t=>t.offsetHeight,v=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},k=t=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()},w=()=>"rtl"===document.documentElement.dir,V=(t,e)=>{k(()=>{const o=v();if(o){const n=o.fn[t];o.fn[t]=e.jQueryInterface,o.fn[t].Constructor=e,o.fn[t].noConflict=()=>(o.fn[t]=n,e.jQueryInterface)}})},x="modal",C="bs.modal",S="."+C,B=".data-api",E="Escape",A={backdrop:!0,keyboard:!0,focus:!0},T={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},D="hide"+S,P="hidePrevented"+S,I="hidden"+S,$="show"+S,L="shown"+S,W="focusin"+S,F="resize"+S,M="click.dismiss"+S,R="keydown.dismiss"+S,z="mouseup.dismiss"+S,U="mousedown.dismiss"+S,H=`click${S}${B}`,Y="modal-scrollbar-measure",q="modal-backdrop",G="modal-open",Q="fade",J="show",X="modal-static",K=".modal-dialog",Z=".modal-body",tt='[data-bs-toggle="modal"]',et='[data-bs-dismiss="modal"]',ot=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nt=".sticky-top";class it extends d["default"]{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=l["default"].findOne(K,this._element),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}static get Default(){return A}static get DATA_KEY(){return C}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;this._isAnimated()&&(this._isTransitioning=!0);const e=r["default"].trigger(this._element,$,{relatedTarget:t});this._isShown||e.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),r["default"].on(this._element,M,et,t=>this.hide(t)),r["default"].on(this._dialog,U,()=>{r["default"].one(this._element,z,t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;const e=r["default"].trigger(this._element,D);if(e.defaultPrevented)return;this._isShown=!1;const o=this._isAnimated();if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),r["default"].off(document,W),this._element.classList.remove(J),r["default"].off(this._element,M),r["default"].off(this._dialog,U),o){const t=m(this._element);r["default"].one(this._element,"transitionend",t=>this._hideModal(t)),j(this._element,t)}else this._hideModal()}dispose(){[window,this._element,this._dialog].forEach(t=>r["default"].off(t,S)),super.dispose(),r["default"].off(document,W),this._config=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null}handleUpdate(){this._adjustDialog()}_getConfig(t){return t={...A,...t},_(x,t,T),t}_showElement(t){const e=this._isAnimated(),o=l["default"].findOne(Z,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,o&&(o.scrollTop=0),e&&N(this._element),this._element.classList.add(J),this._config.focus&&this._enforceFocus();const n=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,r["default"].trigger(this._element,L,{relatedTarget:t})};if(e){const t=m(this._dialog);r["default"].one(this._dialog,"transitionend",n),j(this._dialog,t)}else n()}_enforceFocus(){r["default"].off(document,W),r["default"].on(document,W,t=>{document===t.target||this._element===t.target||this._element.contains(t.target)||this._element.focus()})}_setEscapeEvent(){this._isShown?r["default"].on(this._element,R,t=>{this._config.keyboard&&t.key===E?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==E||this._triggerBackdropTransition()}):r["default"].off(this._element,R)}_setResizeEvent(){this._isShown?r["default"].on(window,F,()=>this._adjustDialog()):r["default"].off(window,F)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(()=>{document.body.classList.remove(G),this._resetAdjustments(),this._resetScrollbar(),r["default"].trigger(this._element,I)})}_removeBackdrop(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null}_showBackdrop(t){const e=this._isAnimated();if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=q,e&&this._backdrop.classList.add(Q),document.body.appendChild(this._backdrop),r["default"].on(this._element,M,t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===this._config.backdrop?this._triggerBackdropTransition():this.hide())}),e&&N(this._backdrop),this._backdrop.classList.add(J),!e)return void t();const o=m(this._backdrop);r["default"].one(this._backdrop,"transitionend",t),j(this._backdrop,o)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(J);const o=()=>{this._removeBackdrop(),t()};if(e){const t=m(this._backdrop);r["default"].one(this._backdrop,"transitionend",o),j(this._backdrop,t)}else o()}else t()}_isAnimated(){return this._element.classList.contains(Q)}_triggerBackdropTransition(){const t=r["default"].trigger(this._element,P);if(t.defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight;e||(this._element.style.overflowY="hidden"),this._element.classList.add(X);const o=m(this._dialog);r["default"].off(this._element,"transitionend"),r["default"].one(this._element,"transitionend",()=>{this._element.classList.remove(X),e||(r["default"].one(this._element,"transitionend",()=>{this._element.style.overflowY=""}),j(this._element,o))}),j(this._element,o),this._element.focus()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;(!this._isBodyOverflowing&&t&&!w()||this._isBodyOverflowing&&!t&&w())&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),(this._isBodyOverflowing&&!t&&!w()||!this._isBodyOverflowing&&t&&w())&&(this._element.style.paddingRight=this._scrollbarWidth+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){this._isBodyOverflowing&&(this._setElementAttributes(ot,"paddingRight",t=>t+this._scrollbarWidth),this._setElementAttributes(nt,"marginRight",t=>t-this._scrollbarWidth),this._setElementAttributes("body","paddingRight",t=>t+this._scrollbarWidth)),document.body.classList.add(G)}_setElementAttributes(t,e,o){l["default"].find(t).forEach(t=>{if(t!==document.body&&window.innerWidth>t.clientWidth+this._scrollbarWidth)return;const n=t.style[e],i=window.getComputedStyle(t)[e];a["default"].setDataAttribute(t,e,n),t.style[e]=o(Number.parseFloat(i))+"px"})}_resetScrollbar(){this._resetElementAttributes(ot,"paddingRight"),this._resetElementAttributes(nt,"marginRight"),this._resetElementAttributes("body","paddingRight")}_resetElementAttributes(t,e){l["default"].find(t).forEach(t=>{const o=a["default"].getDataAttribute(t,e);"undefined"===typeof o&&t===document.body?t.style[e]="":(a["default"].removeDataAttribute(t,e),t.style[e]=o)})}_getScrollbarWidth(){const t=document.createElement("div");t.className=Y,document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static jQueryInterface(t,e){return this.each((function(){let o=c["default"].get(this,C);const n={...A,...a["default"].getDataAttributes(this),..."object"===typeof t&&t?t:{}};if(o||(o=new it(this,n)),"string"===typeof t){if("undefined"===typeof o[t])throw new TypeError(`No method named "${t}"`);o[t](e)}}))}}return r["default"].on(document,H,tt,(function(t){const e=f(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),r["default"].one(e,$,t=>{t.defaultPrevented||r["default"].one(e,I,()=>{y(this)&&this.focus()})});let o=c["default"].get(e,C);if(!o){const t={...a["default"].getDataAttributes(e),...a["default"].getDataAttributes(this)};o=new it(e,t)}o.toggle(this)})),V(x,it),it}))},"9ecd":function(t,e,o){},a9e3:function(t,e,o){"use strict";var n=o("83ab"),i=o("da84"),s=o("94ca"),c=o("6eeb"),r=o("5135"),a=o("c6b6"),l=o("7156"),d=o("c04e"),u=o("d039"),b=o("7c73"),h=o("241c").f,p=o("06cf").f,f=o("9bf2").f,m=o("58a8").trim,g="Number",O=i[g],j=O.prototype,_=a(b(j))==g,y=function(t){var e,o,n,i,s,c,r,a,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(o=l.charCodeAt(2),88===o||120===o)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(s=l.slice(2),c=s.length,r=0;r<c;r++)if(a=s.charCodeAt(r),a<48||a>i)return NaN;return parseInt(s,n)}return+l};if(s(g,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var N,v=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof v&&(_?u((function(){j.valueOf.call(o)})):a(o)!=g)?l(new O(y(e)),o,v):y(e)},k=n?h(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;k.length>w;w++)r(O,N=k[w])&&!r(v,N)&&f(v,N,p(O,N));v.prototype=j,j.constructor=v,c(i,g,v)}},c260:function(t,e,o){"use strict";var n=o("7a23"),i=Object(n["withScopeId"])("data-v-292776ce");Object(n["pushScopeId"])("data-v-292776ce");var s={class:"mb-3"},c={class:"\n          product-img\n          position-relative\n          d-flex-center\n          rounded rounded-3\n          bg-light\n          w-100\n          pt-4\n          pb-3\n        "},r={class:"img d-flex-center"},a=Object(n["createVNode"])("div",{class:"more position-absolute top-0"},null,-1),l=Object(n["createVNode"])("p",{class:"more-text position-absolute text-white fw-bold fs-5"}," 查看更多 ",-1),d={class:"position-absolute text-warning top-0 pt-1 ms-3 w-100"},u={class:"card-title text-center fw-bold mb-0 mb-2"},b={class:"d-flex justify-content-center"},h={key:0,class:"card-text text-decoration-line-through text-gray mt-1 me-2"};Object(n["popScopeId"])();var p=i((function(t,e,o,i,p,f){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("div",{class:"product-content cursor-pointer",onClick:e[1]||(e[1]=function(e){return t.$router.push("/detailed/".concat(p.products.id))})},[Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",c,[Object(n["createVNode"])("div",r,[Object(n["createVNode"])("img",{src:p.products.imgUrl,class:"img-transparent",alt:p.products.title},null,8,["src","alt"])]),a,l,Object(n["createVNode"])("div",d,[(Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(5,(function(t){return Object(n["createVNode"])("i",{class:["bi",[p.products.options.rating>=t?"bi-star-fill":"bi-star"]],key:t},null,2)})),64))])])]),Object(n["createVNode"])("h5",u,Object(n["toDisplayString"])(p.products.title)+Object(n["toDisplayString"])("台灣"!==p.products.options.origin?"(進口)":""),1),Object(n["createVNode"])("div",b,[p.products.origin_price!==p.products.price?(Object(n["openBlock"])(),Object(n["createBlock"])("small",h," 原價:NT$"+Object(n["toDisplayString"])(p.products.origin_price),1)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("p",{class:["mb-0",[p.products.origin_price!==p.products.price?"text-danger":"text-dark"]]},Object(n["toDisplayString"])(p.products.origin_price!==p.products.price?"促銷價:NT$":"售價:NT$")+Object(n["toDisplayString"])(p.products.price),3)])]),Object(n["createVNode"])("a",{href:"#",class:"position-absolute top-0 end-0 mt-1 me-2",onClick:e[2]||(e[2]=Object(n["withModifiers"])((function(t){return f.favorites(p.products.id)}),["prevent"]))},[Object(n["createVNode"])("i",{class:["bi fs-3",[p.products.bookmark?["text-primary","bi-bookmark-heart-fill"]:["text-gray","bi-bookmark-heart"]]]},null,2)])],64)})),f={data:function(){return{products:this.item,pageFavorites:!1}},props:{item:{typeof:Object,require:!0}},emits:{favorites:function(t){return"string"===typeof t}},methods:{favorites:function(t){0===this.$route.path.indexOf("/favorites")&&(this.$emit("favorites",t),this.pageFavorites=!0),this.$store.dispatch("updateBookmark",[t,this.pageFavorites])}},mounted:function(){this.$route.path.indexOf("/favorites")<0&&this.$store.dispatch("initBookmark",this.products.id)}};o("26a0");f.render=p,f.__scopeId="data-v-292776ce";e["a"]=f},dc9c:function(t,e,o){"use strict";var n=o("7a23"),i=Object(n["createVNode"])("h3",{class:"text-center text-secondary fw-bold mb-3"},"促銷商品",-1);function s(t,e,o,s,c,r){var a=Object(n["resolveComponent"])("ProductImg"),l=Object(n["resolveComponent"])("SwiperSlide"),d=Object(n["resolveComponent"])("Swiper");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[i,Object(n["createVNode"])(d,{"slides-per-view":t.offsetWidthData.slidesView,"space-between":30,loop:!0,loopFillGroupWithBlank:!0,autoplay:c.autoplay},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.productsSpecialOffer,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:t.id},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(a,{item:t},null,8,["item"])]})),_:2},1024)})),128))]})),_:1},8,["slides-per-view","autoplay"])],64)}var c=o("5530"),r=(o("4de4"),o("c260")),a=o("5502"),l={data:function(){return{productsSpecialOffer:[],autoplay:{delay:2e3,disableOnInteraction:!1}}},components:{ProductImg:r["a"]},methods:Object(c["a"])(Object(c["a"])({},Object(a["b"])(["initOffsetWidth","updateOffsetWidth"])),{},{getAllProducts:function(){this.$store.dispatch("getAllProducts",1!==this.$route.path.length)},specialOffer:function(){this.productsSpecialOffer=this.allProducts.filter((function(t){return t.origin_price!==t.price}))}}),computed:Object(c["a"])({},Object(a["c"])(["allProducts","offsetWidth","offsetWidthData"])),watch:{allProducts:function(){this.specialOffer()},offsetWidth:function(){this.updateOffsetWidth()}},created:function(){var t=this;this.getAllProducts(),this.initOffsetWidth(),window.onresize=function(){t.updateOffsetWidth()}}};l.render=s;e["a"]=l}}]);
//# sourceMappingURL=chunk-79f5b1ec.6b5cf950.js.map