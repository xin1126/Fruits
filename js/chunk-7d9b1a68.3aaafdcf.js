(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d9b1a68"],{b017:function(e,t,i){"use strict";i("07ac");var a=i("7a23"),o=Object(a["withScopeId"])("data-v-01e2c17a");Object(a["pushScopeId"])("data-v-01e2c17a");var c={class:"subscription-img d-flex flex-column justify-content-center"},s={class:"container"},n={class:"row"},l={class:"col-xl-4 col-md-5 col-sm-8"},r=Object(a["createVNode"])("h2",{class:"fw-bold"},"訂閱電子報",-1),b=Object(a["createVNode"])("h4",{class:"fw-bold"},"獲取九折優惠折扣券!",-1),d={class:"input-group mb-1"},u={key:0,class:"text-danger"};Object(a["popScopeId"])();var m=o((function(e,t,i,m,p,f){var h=Object(a["resolveComponent"])("Field"),v=Object(a["resolveComponent"])("Message"),O=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])("div",c,[Object(a["createVNode"])("div",s,[Object(a["createVNode"])("div",n,[Object(a["createVNode"])("div",l,[r,b,Object(a["createVNode"])(O,{onSubmit:f.subscription},{default:o((function(e){var i=e.errors;return[Object(a["createVNode"])("div",d,[Object(a["createVNode"])(h,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":i["email"]&&p.verificationStart}],placeholder:"請輸入電子信箱",rules:"email|required",modelValue:p.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return p.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])("button",{ref:"tooltip",type:"submit",class:["btn btn-primary btn-hover",{"cursor-allowed":Object.values(i).length||!p.email}],"data-bs-toggle":"tooltip","data-bs-placement":"bottom","data-bs-original-title":[p.email?Object.values(i).length?"信箱格式錯誤哦":"":"請輸入電子信箱哦"]}," 訂閱 ",10,["data-bs-original-title"])]),Object(a["createVNode"])(v,{name:"email",class:"invalid-feedback"}),p.verification?(Object(a["openBlock"])(),Object(a["createBlock"])("p",u,"此信箱已訂閱過了哦")):Object(a["createCommentVNode"])("",!0)]})),_:1},8,["onSubmit"])])])])])})),p=(i("159b"),i("af2e")),f=i.n(p),h={data:function(){return{email:"",subscriptionEmail:JSON.parse(localStorage.getItem("subscriptionEmail"))||[],verification:!1,verificationStart:!0}},methods:{subscription:function(){var e=this;this.verification=!1,this.subscriptionEmail.length&&this.subscriptionEmail.forEach((function(t){t===e.email&&(e.verification=!0)})),this.verification||(this.updateCoupon(9),this.subscriptionEmail.push(this.email),localStorage.setItem("subscriptionEmail",JSON.stringify(this.subscriptionEmail)),this.$swal({title:"訂閱成功，恭喜獲得9折優惠券",icon:"success"}),this.email="",this.verificationStart=!1)},updateCoupon:function(e){this.$store.dispatch("updateCoupon",e)}},watch:{email:function(){this.email&&(this.verificationStart=!0)}},mounted:function(){this.tooltip=new f.a(this.$refs.tooltip)}};i("b80b");h.render=m,h.__scopeId="data-v-01e2c17a";t["a"]=h},b80b:function(e,t,i){"use strict";i("d66c")},d66c:function(e,t,i){}}]);
//# sourceMappingURL=chunk-7d9b1a68.3aaafdcf.js.map